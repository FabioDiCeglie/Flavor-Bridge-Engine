#:schema node_modules/wrangler/config-schema.json
name = "flavor-bridge-engine"
main = "src/entry.py"
compatibility_date = "2024-12-01"
compatibility_flags = ["python_workers"]

# ============================================
# üß† Workers AI Binding
# ============================================
[ai]
binding = "AI"
remote = true

# ============================================
# üóÑÔ∏è Vectorize Binding
# ============================================
[[vectorize]]
binding = "VECTORIZE"
index_name = "flavor-bridge-index"
remote = true

# ============================================
# üìä Observability
# ============================================
[observability.logs]
enabled = false
invocation_logs = true

# ============================================
# üöß STAGING Environment
# Deploy: npx wrangler deploy --env staging
# URL: flavor-bridge-engine-staging.*.workers.dev
# ============================================
[env.staging]
name = "flavor-bridge-engine-staging"

[env.staging.ai]
binding = "AI"

[[env.staging.vectorize]]
binding = "VECTORIZE"
index_name = "flavor-bridge-index"

# ============================================
# üöÄ PRODUCTION Environment
# Deploy: npx wrangler deploy --env production
# URL: flavor-bridge-engine.*.workers.dev
# ============================================
[env.production]
name = "flavor-bridge-engine"

[env.production.ai]
binding = "AI"

[[env.production.vectorize]]
binding = "VECTORIZE"
index_name = "flavor-bridge-index"
